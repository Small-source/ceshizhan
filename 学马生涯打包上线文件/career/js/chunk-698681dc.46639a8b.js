(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-698681dc"],{"0039":function(t,s,e){"use strict";(function(t){e("7514");var i=e("78872");s["a"]={components:{masks:i["a"]},name:"diagnosis",data:function(){return{count:0,totalPage:"",pageSize:10,currentPage:1,evaluation:[{title:"成就目标定向测评",id:1,img_url:"icon_chengjiu.png"},{title:"时间管理测评",id:2,img_url:"icon_shijianguanli.png"},{title:"学习动机测评",id:3,img_url:"icon_xuexidongji.png"},{title:"学习习惯测评",id:4,img_url:"icon_xuexixiguan.png"},{title:"情绪管理测评",id:5,img_url:"icon_qingxuguanli.png"},{title:"人际关系综合诊断测评",id:6,img_url:"icon_renjiguanxi.png"},{title:"学业归因测评",id:8,img_url:"icon_renjiguanxi.png"},{title:"注意力测评",id:7,img_url:"icon_zhuyili.png"}],isFirstInterview:!1,isDiagnosis:!1,evaluation_report:[],history_record:[],cardFirstInterview:!1,cardDiagnosis:!1,isShowDiagnosis:!1,diagnosis:null,time_interview:"",general_information:"",personal_statement:"",consultant_observation:"",parents_reflect:"",consultant_summary:"",time_diagnosis:"",problems_diagnosis:"",reason_diagnosis:"",id_diagnosis:""}},methods:{currentChange:function(t){this.currentPage=t,this.getReportList()},getReportList:function(){var t=this,s=this.currentPage,e=this.pageSize;this.$ajax.post(this.G_uri+"/assessQuestion/getReportList",{pageNumber:s,pageSize:e},{headers:{token:window.sessionStorage.getItem("ymtxToken")}}).then(function(s){if(2e3==s.data.code){var e=s.data.data;t.evaluation_report=e.list,t.totalPage=e.page.totalPage,t.count=e.page.count}})},exitConfirm:function(){var t=this;this.$confirm("退出后不会保存编辑内容，确认退出?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.cardFirstInterview=!1,t.cardDiagnosis=!1,t.$message({type:"info",message:"已退出"})}).catch(function(){})},storeFirstInterview:function(){var t=this,s=this.time_interview,e=this.general_information,i=this.personal_statement,a=this.consultant_observation,n=this.parents_reflect,o=this.consultant_summary;0!=(s&&e&&i&&a&&n&&o)&&this.$ajax.post(this.G_uri+"/assessQuestion/storeFirstInterview",{date:s,general_information:e,personal_statement:i,consultant_observation:a,parents_reflect:n,consultant_summary:o},{headers:{token:window.sessionStorage.getItem("ymtxToken")}}).then(function(s){2e3==s.data.code&&(t.cardFirstInterview=!1,t.getFirstInterview())})},getFirstInterview:function(){var t=this;this.$ajax.post(this.G_uri+"/assessQuestion/getFirstInterview",{},{headers:{token:window.sessionStorage.getItem("ymtxToken")}}).then(function(s){var e=s.data.data;2e3==s.data.code&&(e.date?(t.isFirstInterview=!0,t.time_interview=e.date,t.general_information=e.generalInformation,t.personal_statement=e.personalStatement,t.consultant_observation=e.consultantObservation,t.parents_reflect=e.parentsReflect,t.consultant_summary=e.consultantSummary):t.isFirstInterview=!1)})},storeAssessmentInfo:function(){var t=this;this.$ajax.post(this.G_uri+"/assessQuestion/storeAssessmentInfo",{date:this.time_diagnosis,problems:this.problems_diagnosis,reason:this.reason_diagnosis,id:this.id_diagnosis},{headers:{token:window.sessionStorage.getItem("ymtxToken")}}).then(function(s){2e3==s.data.code&&1==s.data.data.id&&(t.cardDiagnosis=!1,t.$message({message:"保存成功",type:"success"}),t.getAssessmentList())})},getAssessmentList:function(){var t=this;this.$ajax.post(this.G_uri+"/assessQuestion/getAssessmentList",{},{headers:{token:window.sessionStorage.getItem("ymtxToken")}}).then(function(s){var e=s.data.data;2e3==s.data.code&&e.length&&(t.history_record=e)})},getAssessmentInfo:function(t){var s=this;this.isShowDiagnosis=!0,this.$ajax.post(this.G_uri+"/assessQuestion/getAssessmentInfo",{id:t},{headers:{token:window.sessionStorage.getItem("ymtxToken")}}).then(function(t){var e=t.data.data;2e3==t.data.code&&(s.time_diagnosis=e.date,s.problems_diagnosis=e.problems,s.reason_diagnosis=e.reason)})},closeDiagnosis:function(){this.isShowDiagnosis=!1,this.time_diagnosis="",this.problems_diagnosis="",this.reason_diagnosis=""},goReport:function(t,s){var e="/selfAssessment/diagnosis/evaluationReport"+t,i=this.$router.resolve({path:e,query:{assessType:t,id:s}}),a=i.href;window.open(a,"_blank")},getHeight:function(){var s=t(window).height()-50;console.log(t(".cards")),t(".cards").each(function(){var e=t(this).height();e>s&&(t(this).height(s-20),t(this).find(".card_content").height(s-62-20))})}},watch:{cardFirstInterview:function(){this.getHeight()}},created:function(){this.getReportList(),this.getAssessmentList(),this.getFirstInterview(),this.getAssessmentList()}}}).call(this,e("1157"))},"0bae":function(t,s,e){"use strict";var i=e("3678"),a=e.n(i);a.a},3678:function(t,s,e){},"3b23":function(t,s,e){"use strict";var i=e("8105"),a=e.n(i);a.a},78872:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"masks"})},a=[],n=e("a5c6"),o=n["a"],r=(e("3b23"),e("2877")),l=Object(r["a"])(o,i,a,!1,null,"4051b602",null);s["a"]=l.exports},8105:function(t,s,e){},9697:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"diagnosis"},[e("masks",{directives:[{name:"show",rawName:"v-show",value:t.cardFirstInterview||t.cardDiagnosis||t.isShowDiagnosis,expression:"cardFirstInterview||cardDiagnosis||isShowDiagnosis"}]}),e("div",{staticClass:"main_box break_down"},[e("h6",{staticClass:"title"},[t._v("初步访谈")]),t.isFirstInterview?e("div",{staticClass:"unrecording"},[e("ul",{staticClass:"lis_box"},[e("li",{staticClass:"lis"},[t._m(1),e("p",{staticClass:"lis_title"},[t._v("\n                        查看初步访谈记录\n                    ")]),e("div",{staticClass:"btn",on:{click:function(s){t.cardFirstInterview=!0}}},[t._v("查看")])])])]):e("div",{staticClass:"recording"},[t._m(0),e("div",{staticClass:"foot"},[e("p",[t._v("暂无内容！ "),e("span",{on:{click:function(s){t.cardFirstInterview=!0}}},[t._v("添加")]),t._v("初步访谈记录")]),e("p",[t._v("备注：请让咨询师填写此项内容")])])])]),e("div",{staticClass:"main_box evaluation"},[e("h6",{staticClass:"title"},[t._v("测评")]),e("ul",{staticClass:"lis_box"},t._l(t.evaluation,function(s,i){return e("router-link",{key:i,staticClass:"lis",attrs:{tag:"li",to:"/selfAssessment/diagnosis/evaluation_entry?question="+s.id}},[e("div",{staticClass:"img_box"},[e("img",{attrs:{src:"/imgs/careerManagement/diagnosis/"+s.img_url,alt:""}})]),e("p",{staticClass:"lis_title"},[t._v("\n                    "+t._s(s.title)+"\n                ")]),e("div",{staticClass:"btn"},[t._v("测评")])])}),1)]),e("div",{staticClass:"main_box evaluation_report"},[e("h6",{staticClass:"title"},[t._v("测评报告")]),t.evaluation_report.length?e("div",{staticClass:"table_box"},[e("table",[t._m(2),t._l(t.evaluation_report,function(s,i){return e("tr",{key:i},[e("td",[t._v(t._s(s.assessName))]),e("td",[t._v(t._s(s.updatedAt))]),e("td",[e("span",{on:{click:function(e){return t.goReport(s.assessType,s.id)}}},[t._v("查看")])])])})],2),e("div",{staticClass:"page_box"},[e("span",[t._v("共"+t._s(t.count)+"条")]),e("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,total:t.count},on:{"current-change":t.currentChange}})],1)]):e("p",{staticClass:"prompt"},[t._v("\n            暂无报告 ~~~！\n        ")])]),e("div",{staticClass:"main_box"},[e("div",{staticClass:"box"},[e("h6",{staticClass:"title"},[t._v("评估与诊断")]),e("div",{staticClass:"recording"},[t._m(3),e("div",{staticClass:"foot"},[e("p",[t._v("暂无内容！ "),e("span",{on:{click:function(s){t.cardDiagnosis=!0}}},[t._v("添加")]),t._v("评估与诊断记录")]),e("p",[t._v("备注：请让咨询师填写此项内容")])])])]),e("div",{staticClass:"history_record"},[e("h6",{staticClass:"title"},[t._v("历史记录")]),t.history_record.length?e("div",{staticClass:"table_box"},[e("p",{staticClass:"table_title"},[t._v("历史记录")]),e("ul",t._l(t.history_record,function(s,i){return e("li",{key:i},[t._v("\n                        "+t._s(s.date)+"\n                        "),e("span",{on:{click:function(e){return t.getAssessmentInfo(s.id)}}})])}),0)]):e("p",{staticClass:"prompt"},[t._v("\n                暂无记录 ~~~！\n            ")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.cardFirstInterview,expression:"cardFirstInterview"}],staticClass:"cards card_first_interview"},[e("p",{staticClass:"card_title"},[t._v("添加访谈记录")]),e("div",{staticClass:"card_content"},[e("div",{staticClass:"time"},[t._v("\n                访谈时间：\n                "),e("el-date-picker",{attrs:{type:"date",placeholder:"请选择访谈日期","value-format":"yyyy-MM-dd"},model:{value:t.time_interview,callback:function(s){t.time_interview=s},expression:"time_interview"}})],1),e("p",[t._v("一般资料")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.general_information,expression:"general_information"}],attrs:{placeholder:"（记录身体情况、父母职业、成长经历、家庭有无遗传病史、性格、与父母关系等）",onfocus:"this.placeholder=''",onblur:"this.placeholder='（记录身体情况、父母职业、成长经历、家庭有无遗传病史、性格、与父母关系等）'"},domProps:{value:t.general_information},on:{input:function(s){s.target.composing||(t.general_information=s.target.value)}}},[t._v(t._s(t.general_information))]),e("p",[t._v("个人陈述")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.personal_statement,expression:"personal_statement"}],attrs:{placeholder:"（记录发生的事件、想法、情绪、行为和生理上的变化等）",onfocus:"this.placeholder=''",onblur:"this.placeholder='（记录发生的事件、想法、情绪、行为和生理上的变化等）'"},domProps:{value:t.personal_statement},on:{input:function(s){s.target.composing||(t.personal_statement=s.target.value)}}}),e("p",[t._v("咨询师观察")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.consultant_observation,expression:"consultant_observation"}],attrs:{placeholder:"（记录学生的精神面貌、眼神和肢体动作等）",onfocus:"this.placeholder=''",onblur:"this.placeholder='（记录学生的精神面貌、眼神和肢体动作等）'"},domProps:{value:t.consultant_observation},on:{input:function(s){s.target.composing||(t.consultant_observation=s.target.value)}}}),e("p",[t._v("家长反映")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.parents_reflect,expression:"parents_reflect"}],attrs:{placeholder:"（记录家长观察到的学生的行为变化）",onfocus:"this.placeholder=''",onblur:"this.placeholder='（记录家长观察到的学生的行为变化）'"},domProps:{value:t.parents_reflect},on:{input:function(s){s.target.composing||(t.parents_reflect=s.target.value)}}}),e("p",[t._v("咨询师总结")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.consultant_summary,expression:"consultant_summary"}],attrs:{placeholder:"（可能存在什么问题，推荐做什么测评？）",onfocus:"this.placeholder=''",onblur:"this.placeholder='（可能存在什么问题，推荐做什么测评？）'"},domProps:{value:t.consultant_summary},on:{input:function(s){s.target.composing||(t.consultant_summary=s.target.value)}}}),e("div",{staticClass:"save",on:{click:t.storeFirstInterview}},[t._v("保存")]),e("div",{staticClass:"close",on:{click:t.exitConfirm}})])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.cardDiagnosis,expression:"cardDiagnosis"}],staticClass:"cards card_diagnosis"},[e("p",{staticClass:"card_title"},[t._v("添加评估与诊断")]),e("div",{staticClass:"card_content"},[e("div",{staticClass:"time"},[t._v("\n                访谈时间：\n                "),e("el-date-picker",{attrs:{type:"date",placeholder:"请选择访谈日期","value-format":"yyyy-MM-dd"},model:{value:t.time_diagnosis,callback:function(s){t.time_diagnosis=s},expression:"time_diagnosis"}})],1),e("p",[t._v("具体问题和程度")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.problems_diagnosis,expression:"problems_diagnosis"}],attrs:{type:"textarea",placeholder:"（记录学生的情绪和行为变化，结合量表结果，给出具体是什么问题）",onfocus:"this.placeholder=''",onblur:"this.placeholder='（记录学生的情绪和行为变化，结合量表结果，给出具体是什么问题）'"},domProps:{value:t.problems_diagnosis},on:{input:function(s){s.target.composing||(t.problems_diagnosis=s.target.value)}}}),e("p",[t._v("原因分析")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.reason_diagnosis,expression:"reason_diagnosis"}],attrs:{type:"text",placeholder:"（个人原因：身体状况、个体成熟水平、认知水平能力、社会和学校因素以及家庭因素等）",onfocus:"this.placeholder=''",onblur:"this.placeholder='（个人原因：身体状况、个体成熟水平、认知水平能力、社会和学校因素以及家庭因素等）'"},domProps:{value:t.reason_diagnosis},on:{input:function(s){s.target.composing||(t.reason_diagnosis=s.target.value)}}}),e("div",{staticClass:"save",on:{click:t.storeAssessmentInfo}},[t._v("保存")]),e("div",{staticClass:"close",on:{click:t.exitConfirm}})])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowDiagnosis,expression:"isShowDiagnosis"}],staticClass:"cards card_diagnosis"},[e("p",{staticClass:"card_title"},[t._v("添加评估与诊断")]),e("div",{staticClass:"card_content"},[e("div",{staticClass:"time"},[t._v("\n                访谈时间：\n                "),e("el-date-picker",{attrs:{type:"date",placeholder:"请选择访谈日期","value-format":"yyyy-MM-dd",readonly:""},model:{value:t.time_diagnosis,callback:function(s){t.time_diagnosis=s},expression:"time_diagnosis"}})],1),e("p",[t._v("具体问题和程度")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.problems_diagnosis,expression:"problems_diagnosis"}],staticClass:"read_dia",attrs:{readonly:"readonly"},domProps:{value:t.problems_diagnosis},on:{input:function(s){s.target.composing||(t.problems_diagnosis=s.target.value)}}}),e("p",[t._v("原因分析")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.reason_diagnosis,expression:"reason_diagnosis"}],staticClass:"read_dia",attrs:{readonly:"readonly"},domProps:{value:t.reason_diagnosis},on:{input:function(s){s.target.composing||(t.reason_diagnosis=s.target.value)}}}),e("div",{staticClass:"close",on:{click:function(s){return t.closeDiagnosis()}}})])])],1)},a=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"top"},[e("img",{attrs:{src:"/imgs/careerManagement/diagnosis/icon-zanwuneirong.png",alt:""}})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"img_box"},[e("img",{attrs:{src:"/imgs/careerManagement/diagnosis/icon_xuexixiguan.png",alt:""}})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("tr",[e("th",[t._v("测评报告")]),e("th",[t._v("测评日期")]),e("th",[t._v("查看")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"top"},[e("img",{attrs:{src:"/imgs/careerManagement/diagnosis/icon-zanwuneirong.png",alt:""}})])}],n=e("0039"),o=n["a"],r=(e("0bae"),e("a2e1"),e("2877")),l=Object(r["a"])(o,i,a,!1,null,"e9e80c00",null);s["default"]=l.exports},a2e1:function(t,s,e){"use strict";var i=e("b0a2"),a=e.n(i);a.a},a5c6:function(t,s,e){"use strict";(function(t){s["a"]={name:"masks",mounted:function(){var s=t(window).width(),e=t(window).height();t(".masks").css({width:s,height:e})}}}).call(this,e("1157"))},b0a2:function(t,s,e){}}]);
//# sourceMappingURL=chunk-698681dc.46639a8b.js.map