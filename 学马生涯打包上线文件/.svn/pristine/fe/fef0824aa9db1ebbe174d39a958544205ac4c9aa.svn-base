(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-af22a134"],{"063a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"elective"},[a("div",{staticClass:"myReports"},[t._m(0),a("ul",{staticClass:"electiveBox"},[a("li",[t._m(1),a("div",{staticClass:"right"},[a("div",{staticClass:"title"},[t._v("\n                        学业规划报告\n                    ")]),a("div",{staticClass:"buttons"},[a("div",{staticClass:"button",style:{margin:t.isReport?"":"40px 20px"},on:{click:t.createReport}},[t._v("\n                            生成\n                        ")]),t.isReport?a("div",{staticClass:"button",on:{click:function(e){return t.goReport(t.reportId)}}},[t._v("\n                            查看\n                        ")]):t._e()])])])]),t._m(2),a("table",[t._m(3),a("tbody",t._l(t.reportList,function(e,n){return a("tr",{key:n},[a("td",[t._v("学业规划报告")]),a("td",[t._v(t._s(e.createdAt))]),a("td",[a("span",{on:{click:function(a){return t.goReport(e.id)}}},[t._v("查看")])])])}),0)]),0==t.reportList.length?a("div",{staticClass:"noneContent"}):t._e(),a("div",{staticClass:"page_box"},[a("span",[t._v("共"+t._s(t.count)+"条")]),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,total:t.count},on:{"current-change":t.currentChange}})],1)])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("img",{attrs:{src:"imgs/careerArchives/icon_biaoti.png",alt:""}}),t._v("\n            学业规划报告\n        ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"left"},[a("img",{attrs:{src:"/imgs/careerManagement/academicPlanningReport/icon_head.png",alt:""}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("img",{attrs:{src:"imgs/careerArchives/icon_biaoti.png",alt:""}}),t._v("\n            历史记录\n        ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("td",[t._v("名称")]),a("td",[t._v("日期")]),a("td",[t._v("查看")])])])}],r={name:"index",data:function(){return{reportList:[],count:0,totalPage:"",pageSize:7,currentPage:1,isReport:!1,reportId:0}},methods:{jump:function(t){this.$router.push(t)},goReport:function(t,e){var a=this.$router.resolve({path:"/careerManagement/academicPlanningReportDetail",query:{id:t,down:e}}),n=a.href;window.open(n,"_blank")},currentChange:function(t){this.currentPage=t,this.history(t)},isNo:function(){var t=this;this.$ajax.post(this.G_uri+this.ports.careerManagement.guihuabaogao.isNo,{},{headers:{token:window.sessionStorage.getItem("ymtxToken")}}).then(function(e){if(2e3==e.data.code){var a=e.data.data;0!=a.id&&(t.isReport=!0),t.reportId=a.id}}).catch(function(t){console.log(error)})},createReport:function(){var t=this;this.$ajax.post(this.G_uri+this.ports.careerManagement.guihuabaogao.storeReport,{},{headers:{token:window.sessionStorage.getItem("ymtxToken")}}).then(function(e){2e3==e.data.code&&(t.isNo(),t.history())}).catch(function(t){console.log(t)})},history:function(t){var e=this,a=t,n=this.pageSize;this.$ajax.post(this.G_uri+this.ports.careerManagement.guihuabaogao.history,{pageNumber:a,pageSize:n},{headers:{token:window.sessionStorage.getItem("ymtxToken")}}).then(function(t){if(2e3==t.data.code){var a=t.data.data;0!=a.list.length&&(e.reportList=a.list),e.totalPage=a.page.totalPage,e.count=a.page.count}}).catch(function(t){console.log(t)})}},created:function(){this.isNo(),this.history()}},s=r,o=(a("a91c"),a("2877")),c=Object(o["a"])(s,n,i,!1,null,"0176f0ae",null);e["default"]=c.exports},a91c:function(t,e,a){"use strict";var n=a("fc42"),i=a.n(n);i.a},fc42:function(t,e,a){}}]);
//# sourceMappingURL=chunk-af22a134.4a158c64.js.map