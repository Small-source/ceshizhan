(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f0193ccc"],{"12f9":function(t,e,s){},"151e":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 1==t.tip?s("div",{staticClass:"box",on:{click:t.tipHide}},[s("em",{staticClass:"icon part_start"}),t._m(0)]):t._e()},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"btngroup"},[s("a",{staticClass:"btn btn_start",attrs:{href:"javascript:;"}},[t._v("点击鼠标开始测试")])])}],n={data:function(){return{tip:1}},mounted:function(){},methods:{tipHide:function(){this.tip=0}}},r=n,c=s("2877"),l=Object(c["a"])(r,i,a,!1,null,null,null);l.options.__file="tip.vue";e["a"]=l.exports},"2e5c":function(t,e,s){"use strict";(function(t){s("7514"),s("c5f6"),s("cadf"),s("551c"),s("097d");var i=s("6e48"),a=s("151e");e["a"]={data:function(){return{total:"",curIndex:"1",questions:"",score:"1",quesAnswers:[{score:1,text:"没有"},{score:2,text:"很轻"},{score:3,text:"中等"},{score:4,text:"偏重"},{score:5,text:"严重"}],answers:[],bar:"",time:"",startTime:"",endTime:""}},mounted:function(){this.quesList(),t(".test_menu .item").addClass("item_4")},updated:function(){console.log(this.bar)},components:{xljkNav:i["a"],tip:a["a"]},methods:{quesList:function(){this.$ajax.post("/api/test/mind/list",{emulateJSON:!0}).then(function(t){console.log(t.data);var e=t.data;0==e.code?(this.total=e.result.length,this.questions=e.result,this.bar=Number(this.curIndex-1)/Number(this.total)*100):this.layerMsg(e.msg)}.bind(this),function(t){this.layerMsg("网络错误")}.bind(this))},answerClick:function(e){var s=this;t(e.target).closest(".ques-item").find(".layui-unselect").removeClass("layui-form-radioed"),t(e.target).closest(".ques-item").find(".layui-icon").removeClass("layui-anim-scaleSpring"),t(e.target).closest(".ques-item").find(".layui-icon").text(""),t(e.target).closest(".layui-unselect").addClass("layui-form-radioed"),t(e.target).closest(".layui-unselect").find(".layui-icon").addClass("layui-anim-scaleSpring"),t(e.target).closest(".layui-unselect").find(".layui-icon").text("");var i=t(e.target).closest(".answer-item").attr("score"),a=t(e.target).closest(".ques-item").attr("paper"),n=t(e.target).closest(".ques-item").attr("cid");if(this.answers.length>0&&n==this.answers[this.answers.length-1].question_id)return console.log("重复点击了"),this.curIndex>=this.total&&(this.endTime=(new Date).getTime(),this.time=Number(this.endTime)-Number(this.startTime),this.submit(),!1);this.answers.push({question_id:n,paper:a,answer:i}),1==this.curIndex&&(this.startTime=(new Date).getTime()),console.log(this.answers),this.curIndex<this.total?(this.bar=Number(this.curIndex-1)/Number(this.total)*100,setTimeout(function(){s.curIndex++},300)):(this.endTime=(new Date).getTime(),this.time=Number(this.endTime)-Number(this.startTime),this.submit())},submit:function(){this.$ajax.post("/api/result/mind/compute",{time:this.time,answers:JSON.stringify(this.answers)},{timeout:3e3,headers:{token:sessionStorage.getItem("token")}},{emulateJSON:!0}).then(function(t){console.log(t.data);var e=t.data;0==e.code?(this.markOver(),"xuanke"==localStorage.getItem("cardType")?this.$router.push("/zhinengxuanke/mubiaozhuanye"):this.$router.push("/shengyaceping/xljk/success")):this.layerMsg(e.msg)}.bind(this),function(t){this.layerMsg("网络错误，请重新提交")}.bind(this))}}}}).call(this,s("1157"))},"54b16":function(t,e,s){"use strict";var i=s("12f9"),a=s.n(i);a.a},"6e48":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"test_menu clearfix"},[s("a",{staticClass:"item",attrs:{href:"javascript:;"}},[s("em",{staticClass:"num"},[t._v("01")]),s("h6",{staticClass:"tit"},[t._v("心理健康问卷")]),s("p",{staticClass:"font"},[t._v("Mental health")])])])}],n=s("2877"),r={},c=Object(n["a"])(r,i,a,!1,null,null,null);c.options.__file="xljk.vue";e["a"]=c.exports},e564:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pc-page"},[s("div",{staticClass:"test_main test_main_4"},[s("xljkNav"),s("div",{staticClass:"d-relative test_detail test_4"},[t._l(t.questions,function(e,i){return i+1==t.curIndex?s("div",{staticClass:"radio_box ques-item",attrs:{paper:e.paper,cid:e.id}},[s("h4",{staticClass:"title"},[t._v(t._s(e.detail))]),s("div",{staticClass:"formbox clearfix"},[s("div",{staticClass:"q-answer-ani2"},t._l(t.quesAnswers,function(e){return s("div",{staticClass:"answer-item",attrs:{score:e.score}},[s("div",{staticClass:"group"},[s("div",{staticClass:"layui-unselect layui-form-radio",on:{click:function(e){t.answerClick(e)}}},[s("i",{staticClass:"layui-anim layui-icon"},[t._v("")])]),t._v("\n                "+t._s(e.text)+"\n              ")])])}),0),s("div",{staticClass:"page"},[s("em",{staticClass:"col_4"},[t._v(t._s(t.curIndex)+" ")]),t._v("/"+t._s(t.total)+"\n          ")])])]):t._e()}),s("tip")],2)],1)])},a=[],n=s("2e5c"),r=n["a"],c=(s("54b16"),s("2877")),l=Object(c["a"])(r,i,a,!1,null,null,null);l.options.__file="quesOne.vue";e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-f0193ccc.8fda4f97.js.map