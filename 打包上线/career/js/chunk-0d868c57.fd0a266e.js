(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d868c57"],{2200:function(t,e,s){"use strict";(function(t){s("7514");var i=s("78872");e["a"]={components:{masks:i["a"]},name:"diagnosis",data:function(){return{count:0,totalPage:"",pageSize:10,currentPage:1,evaluation:[{title:"成就目标定向测评",id:1,img_url:"icon_chengjiu.png"},{title:"时间管理测评",id:2,img_url:"icon_shijianguanli.png"},{title:"学习动机测评",id:3,img_url:"icon_xuexidongji.png"},{title:"学习习惯测评",id:4,img_url:"icon_xuexixiguan.png"},{title:"情绪管理测评",id:5,img_url:"icon_qingxuguanli.png"},{title:"人际关系综合诊断测评",id:6,img_url:"icon_renjiguanxi.png"},{title:"注意力测评",id:7,img_url:"icon_zhuyili.png"}],isFirstInterview:!1,isDiagnosis:!1,evaluation_report:[],history_record:[],cardFirstInterview:!1,cardDiagnosis:!1,isShowDiagnosis:!1,diagnosis:null,time_interview:"",general_information:"",personal_statement:"",consultant_observation:"",parents_reflect:"",consultant_summary:"",time_diagnosis:"",problems_diagnosis:"",reason_diagnosis:"",id_diagnosis:""}},methods:{currentChange:function(t){this.currentPage=t,this.getReportList()},getReportList:function(){var t=this,e=this.currentPage,s=this.pageSize;this.$ajax.post(this.G_uri+"/assessQuestion/getReportList",{pageNumber:e,pageSize:s},{headers:{token:window.sessionStorage.getItem("ymtxToken")}}).then(function(e){if(2e3==e.data.code){var s=e.data.data;t.evaluation_report=s.list,t.totalPage=s.page.totalPage,t.count=s.page.count}})},exitConfirm:function(){var t=this;this.$confirm("退出后不会保存编辑内容，确认退出?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.cardFirstInterview=!1,t.cardDiagnosis=!1,t.$message({type:"info",message:"已退出"})}).catch(function(){})},storeFirstInterview:function(){var t=this,e=this.time_interview,s=this.general_information,i=this.personal_statement,a=this.consultant_observation,n=this.parents_reflect,o=this.consultant_summary;0!=(e&&s&&i&&a&&n&&o)&&this.$ajax.post(this.G_uri+"/assessQuestion/storeFirstInterview",{date:e,general_information:s,personal_statement:i,consultant_observation:a,parents_reflect:n,consultant_summary:o},{headers:{token:window.sessionStorage.getItem("ymtxToken")}}).then(function(e){2e3==e.data.code&&(t.cardFirstInterview=!1,t.getFirstInterview())})},getFirstInterview:function(){var t=this;this.$ajax.post(this.G_uri+"/assessQuestion/getFirstInterview",{},{headers:{token:window.sessionStorage.getItem("ymtxToken")}}).then(function(e){var s=e.data.data;2e3==e.data.code&&(s.date?(t.isFirstInterview=!0,t.time_interview=s.date,t.general_information=s.generalInformation,t.personal_statement=s.personalStatement,t.consultant_observation=s.consultantObservation,t.parents_reflect=s.parentsReflect,t.consultant_summary=s.consultantSummary):t.isFirstInterview=!1)})},storeAssessmentInfo:function(){var t=this;this.$ajax.post(this.G_uri+"/assessQuestion/storeAssessmentInfo",{date:this.time_diagnosis,problems:this.problems_diagnosis,reason:this.reason_diagnosis,id:this.id_diagnosis},{headers:{token:window.sessionStorage.getItem("ymtxToken")}}).then(function(e){2e3==e.data.code&&1==e.data.data.id&&(t.cardDiagnosis=!1,t.$message({message:"保存成功",type:"success"}),t.getAssessmentList())})},getAssessmentList:function(){var t=this;this.$ajax.post(this.G_uri+"/assessQuestion/getAssessmentList",{},{headers:{token:window.sessionStorage.getItem("ymtxToken")}}).then(function(e){var s=e.data.data;2e3==e.data.code&&s.length&&(t.history_record=s)})},getAssessmentInfo:function(t){var e=this;this.isShowDiagnosis=!0,this.$ajax.post(this.G_uri+"/assessQuestion/getAssessmentInfo",{id:t},{headers:{token:window.sessionStorage.getItem("ymtxToken")}}).then(function(t){var s=t.data.data;2e3==t.data.code&&(e.time_diagnosis=s.date,e.problems_diagnosis=s.problems,e.reason_diagnosis=s.reason)})},closeDiagnosis:function(){this.isShowDiagnosis=!1,this.time_diagnosis="",this.problems_diagnosis="",this.reason_diagnosis=""},goReport:function(t,e){var s="/careerManagement/diagnosis/evaluationReport"+t,i=this.$router.resolve({path:s,query:{assessType:t,id:e}}),a=i.href;window.open(a,"_blank")},getHeight:function(){var e=t(window).height()-50;console.log(t(".cards")),t(".cards").each(function(){var s=t(this).height();s>e&&(t(this).height(e-20),t(this).find(".card_content").height(e-62-20))})}},watch:{cardFirstInterview:function(){this.getHeight()}},created:function(){this.getReportList(),this.getAssessmentList(),this.getFirstInterview(),this.getAssessmentList()}}}).call(this,s("1157"))},"3b23":function(t,e,s){"use strict";var i=s("8105"),a=s.n(i);a.a},"70f3":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"diagnosis"},[s("masks",{directives:[{name:"show",rawName:"v-show",value:t.cardFirstInterview||t.cardDiagnosis||t.isShowDiagnosis,expression:"cardFirstInterview||cardDiagnosis||isShowDiagnosis"}]}),s("div",{staticClass:"main_box break_down"},[s("h6",{staticClass:"title"},[t._v("初步访谈")]),t.isFirstInterview?s("div",{staticClass:"unrecording"},[s("ul",{staticClass:"lis_box"},[s("li",{staticClass:"lis"},[t._m(1),s("p",{staticClass:"lis_title"},[t._v("\n                        查看初步访谈记录\n                    ")]),s("div",{staticClass:"btn",on:{click:function(e){t.cardFirstInterview=!0}}},[t._v("查看")])])])]):s("div",{staticClass:"recording"},[t._m(0),s("div",{staticClass:"foot"},[s("p",[t._v("暂无内容！ "),s("span",{on:{click:function(e){t.cardFirstInterview=!0}}},[t._v("添加")]),t._v("初步访谈记录")]),s("p",[t._v("备注：请让咨询师填写此项内容")])])])]),s("div",{staticClass:"main_box evaluation"},[s("h6",{staticClass:"title"},[t._v("测评")]),s("ul",{staticClass:"lis_box"},t._l(t.evaluation,function(e,i){return s("router-link",{key:i,staticClass:"lis",attrs:{tag:"li",to:"/careerManagement/diagnosis/evaluation_entry?question="+e.id}},[s("div",{staticClass:"img_box"},[s("img",{attrs:{src:"/imgs/careerManagement/diagnosis/"+e.img_url,alt:""}})]),s("p",{staticClass:"lis_title"},[t._v("\n                    "+t._s(e.title)+"\n                ")]),s("div",{staticClass:"btn"},[t._v("测评")])])}),1)]),s("div",{staticClass:"main_box evaluation_report"},[s("h6",{staticClass:"title"},[t._v("测评报告")]),t.evaluation_report.length?s("div",{staticClass:"table_box"},[s("table",[t._m(2),t._l(t.evaluation_report,function(e,i){return s("tr",{key:i},[s("td",[t._v(t._s(e.assessName))]),s("td",[t._v(t._s(e.updatedAt))]),s("td",[s("span",{on:{click:function(s){return t.goReport(e.assessType,e.id)}}},[t._v("查看")])])])})],2),s("div",{staticClass:"page_box"},[s("span",[t._v("共"+t._s(t.count)+"条")]),s("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,total:t.count},on:{"current-change":t.currentChange}})],1)]):s("p",{staticClass:"prompt"},[t._v("\n            暂无报告 ~~~！\n        ")])]),s("div",{staticClass:"main_box"},[s("div",{staticClass:"box"},[s("h6",{staticClass:"title"},[t._v("评估与诊断")]),s("div",{staticClass:"recording"},[t._m(3),s("div",{staticClass:"foot"},[s("p",[t._v("暂无内容！ "),s("span",{on:{click:function(e){t.cardDiagnosis=!0}}},[t._v("添加")]),t._v("评估与诊断记录")]),s("p",[t._v("备注：请让咨询师填写此项内容")])])])]),s("div",{staticClass:"history_record"},[s("h6",{staticClass:"title"},[t._v("历史记录")]),t.history_record.length?s("div",{staticClass:"table_box"},[s("p",{staticClass:"table_title"},[t._v("历史记录")]),s("ul",t._l(t.history_record,function(e,i){return s("li",{key:i},[t._v("\n                        "+t._s(e.date)+"\n                        "),s("span",{on:{click:function(s){return t.getAssessmentInfo(e.id)}}})])}),0)]):s("p",{staticClass:"prompt"},[t._v("\n                暂无记录 ~~~！\n            ")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.cardFirstInterview,expression:"cardFirstInterview"}],staticClass:"cards card_first_interview"},[s("p",{staticClass:"card_title"},[t._v("添加访谈记录")]),s("div",{staticClass:"card_content"},[s("div",{staticClass:"time"},[t._v("\n                访谈时间：\n                "),s("el-date-picker",{attrs:{type:"date",placeholder:"请选择访谈日期","value-format":"yyyy-MM-dd"},model:{value:t.time_interview,callback:function(e){t.time_interview=e},expression:"time_interview"}})],1),s("p",[t._v("一般资料")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.general_information,expression:"general_information"}],attrs:{placeholder:"（记录身体情况、父母职业、成长经历、家庭有无遗传病史、性格、与父母关系等）",onfocus:"this.placeholder=''",onblur:"this.placeholder='（记录身体情况、父母职业、成长经历、家庭有无遗传病史、性格、与父母关系等）'"},domProps:{value:t.general_information},on:{input:function(e){e.target.composing||(t.general_information=e.target.value)}}},[t._v(t._s(t.general_information))]),s("p",[t._v("个人陈述")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.personal_statement,expression:"personal_statement"}],attrs:{placeholder:"（记录发生的事件、想法、情绪、行为和生理上的变化等）",onfocus:"this.placeholder=''",onblur:"this.placeholder='（记录发生的事件、想法、情绪、行为和生理上的变化等）'"},domProps:{value:t.personal_statement},on:{input:function(e){e.target.composing||(t.personal_statement=e.target.value)}}}),s("p",[t._v("咨询师观察")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.consultant_observation,expression:"consultant_observation"}],attrs:{placeholder:"（记录学生的精神面貌、眼神和肢体动作等）",onfocus:"this.placeholder=''",onblur:"this.placeholder='（记录学生的精神面貌、眼神和肢体动作等）'"},domProps:{value:t.consultant_observation},on:{input:function(e){e.target.composing||(t.consultant_observation=e.target.value)}}}),s("p",[t._v("家长反映")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.parents_reflect,expression:"parents_reflect"}],attrs:{placeholder:"（记录家长观察到的学生的行为变化）",onfocus:"this.placeholder=''",onblur:"this.placeholder='（记录家长观察到的学生的行为变化）'"},domProps:{value:t.parents_reflect},on:{input:function(e){e.target.composing||(t.parents_reflect=e.target.value)}}}),s("p",[t._v("咨询师总结")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.consultant_summary,expression:"consultant_summary"}],attrs:{placeholder:"（可能存在什么问题，推荐做什么测评？）",onfocus:"this.placeholder=''",onblur:"this.placeholder='（可能存在什么问题，推荐做什么测评？）'"},domProps:{value:t.consultant_summary},on:{input:function(e){e.target.composing||(t.consultant_summary=e.target.value)}}}),s("div",{staticClass:"save",on:{click:t.storeFirstInterview}},[t._v("保存")]),s("div",{staticClass:"close",on:{click:t.exitConfirm}})])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.cardDiagnosis,expression:"cardDiagnosis"}],staticClass:"cards card_diagnosis"},[s("p",{staticClass:"card_title"},[t._v("添加评估与诊断")]),s("div",{staticClass:"card_content"},[s("div",{staticClass:"time"},[t._v("\n                访谈时间：\n                "),s("el-date-picker",{attrs:{type:"date",placeholder:"请选择访谈日期","value-format":"yyyy-MM-dd"},model:{value:t.time_diagnosis,callback:function(e){t.time_diagnosis=e},expression:"time_diagnosis"}})],1),s("p",[t._v("具体问题和程度")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.problems_diagnosis,expression:"problems_diagnosis"}],attrs:{type:"textarea",placeholder:"（记录学生的情绪和行为变化，结合量表结果，给出具体是什么问题）",onfocus:"this.placeholder=''",onblur:"this.placeholder='（记录学生的情绪和行为变化，结合量表结果，给出具体是什么问题）'"},domProps:{value:t.problems_diagnosis},on:{input:function(e){e.target.composing||(t.problems_diagnosis=e.target.value)}}}),s("p",[t._v("原因分析")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.reason_diagnosis,expression:"reason_diagnosis"}],attrs:{type:"text",placeholder:"（个人原因：身体状况、个体成熟水平、认知水平能力、社会和学校因素以及家庭因素等）",onfocus:"this.placeholder=''",onblur:"this.placeholder='（个人原因：身体状况、个体成熟水平、认知水平能力、社会和学校因素以及家庭因素等）'"},domProps:{value:t.reason_diagnosis},on:{input:function(e){e.target.composing||(t.reason_diagnosis=e.target.value)}}}),s("div",{staticClass:"save",on:{click:t.storeAssessmentInfo}},[t._v("保存")]),s("div",{staticClass:"close",on:{click:t.exitConfirm}})])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowDiagnosis,expression:"isShowDiagnosis"}],staticClass:"cards card_diagnosis"},[s("p",{staticClass:"card_title"},[t._v("添加评估与诊断")]),s("div",{staticClass:"card_content"},[s("div",{staticClass:"time"},[t._v("\n                访谈时间：\n                "),s("el-date-picker",{attrs:{type:"date",placeholder:"请选择访谈日期","value-format":"yyyy-MM-dd",readonly:""},model:{value:t.time_diagnosis,callback:function(e){t.time_diagnosis=e},expression:"time_diagnosis"}})],1),s("p",[t._v("具体问题和程度")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.problems_diagnosis,expression:"problems_diagnosis"}],staticClass:"read_dia",attrs:{readonly:"readonly"},domProps:{value:t.problems_diagnosis},on:{input:function(e){e.target.composing||(t.problems_diagnosis=e.target.value)}}}),s("p",[t._v("原因分析")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.reason_diagnosis,expression:"reason_diagnosis"}],staticClass:"read_dia",attrs:{readonly:"readonly"},domProps:{value:t.reason_diagnosis},on:{input:function(e){e.target.composing||(t.reason_diagnosis=e.target.value)}}}),s("div",{staticClass:"close",on:{click:function(e){return t.closeDiagnosis()}}})])])],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"top"},[s("img",{attrs:{src:"/imgs/careerManagement/diagnosis/icon-zanwuneirong.png",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"img_box"},[s("img",{attrs:{src:"/imgs/careerManagement/diagnosis/icon_xuexixiguan.png",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[t._v("测评报告")]),s("th",[t._v("测评日期")]),s("th",[t._v("查看")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"top"},[s("img",{attrs:{src:"/imgs/careerManagement/diagnosis/icon-zanwuneirong.png",alt:""}})])}],n=s("2200"),o=n["a"],r=(s("b3a1"),s("bcaa4"),s("2877")),l=Object(r["a"])(o,i,a,!1,null,"305ddf10",null);e["default"]=l.exports},78872:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"masks"})},a=[],n=s("a5c6"),o=n["a"],r=(s("3b23"),s("2877")),l=Object(r["a"])(o,i,a,!1,null,"4051b602",null);e["a"]=l.exports},8105:function(t,e,s){},"9b54":function(t,e,s){},a5c6:function(t,e,s){"use strict";(function(t){e["a"]={name:"masks",mounted:function(){var e=t(window).width(),s=t(window).height();t(".masks").css({width:e,height:s})}}}).call(this,s("1157"))},b3a1:function(t,e,s){"use strict";var i=s("b9ad"),a=s.n(i);a.a},b9ad:function(t,e,s){},bcaa4:function(t,e,s){"use strict";var i=s("9b54"),a=s.n(i);a.a}}]);
//# sourceMappingURL=chunk-0d868c57.fd0a266e.js.map