(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c5001f3"],{2876:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"mark"},[e("div",{staticClass:"perfectInformation"},[e("div",{staticClass:"top_title"},[t._v("为了更好的为您服务，请完善以下信息！")]),e("div",{staticClass:"content"},[e("div",{staticClass:"left_banner"}),e("div",{staticClass:"right_content",style:{paddingTop:t.tuance&&"30px"}},[0==t.openProvinceData.length?e("div",{staticClass:"linkage"},[t.tuance?e("div",{staticClass:"zheceng"}):t._e(),t._m(0),e("div",{staticClass:"el"},[e("el-select",{staticClass:"suozaidi1",attrs:{placeholder:"省级地区"},model:{value:t.province,callback:function(a){t.province=a},expression:"province"}},t._l(t.mapData,function(t,a){return e("el-option",{key:a,attrs:{label:t.name,value:t.name}})}),1)],1),e("p",{staticClass:"no2"},[t._v("省/市")]),e("div",{staticClass:"el"},[e("el-select",{staticClass:"suozaidi2",attrs:{placeholder:"市级地区"},model:{value:t.city,callback:function(a){t.city=a},expression:"city"}},t._l(t.cityData,function(t,a){return e("el-option",{key:a,attrs:{label:t.name,value:t.name}})}),1)],1),e("p",{staticClass:"no2"},[t._v("城市")]),e("div",{staticClass:"el"},[e("el-select",{staticClass:"suozaidi3",attrs:{placeholder:"区级地区"},model:{value:t.area,callback:function(a){t.area=a},expression:"area"}},t._l(t.areaData,function(t,a){return e("el-option",{key:a,attrs:{label:t,value:t}})}),1)],1),e("p",{staticClass:"no2"},[t._v("区/县/市")])]):t._e(),t.openProvinceData.length>0?e("div",{staticClass:"linkage"},[t.tuance?e("div",{staticClass:"zheceng"}):t._e(),t._m(1),e("div",{staticClass:"el"},[e("el-select",{staticClass:"suozaidi1",attrs:{placeholder:"省级地区"},model:{value:t.province,callback:function(a){t.province=a},expression:"province"}},t._l(t.openProvinceData,function(t,a){return e("el-option",{key:a,attrs:{label:t.name,value:t.name}})}),1)],1),e("p",{staticClass:"no2"},[t._v("省/市")]),e("div",{staticClass:"el"},[e("el-select",{staticClass:"suozaidi2",attrs:{placeholder:"市级地区"},model:{value:t.city,callback:function(a){t.city=a},expression:"city"}},t._l(t.openCityData,function(t,a){return e("el-option",{key:a,attrs:{label:t.name,value:t.name}})}),1)],1),e("p",{staticClass:"no2"},[t._v("城市")]),e("div",{staticClass:"el"},[e("el-select",{staticClass:"suozaidi3",attrs:{placeholder:"区级地区"},model:{value:t.area,callback:function(a){t.area=a},expression:"area"}},t._l(t.areaData,function(t,a){return e("el-option",{key:a,attrs:{label:t,value:t}})}),1)],1),e("p",{staticClass:"no2"},[t._v("区/县/市")])]):t._e(),e("div",{staticClass:"xuexiao",style:{marginBottom:t.tuance&&"25px"}},[t.tuance?e("div",{staticClass:"zheceng"}):t._e(),t._m(2),e("input",{directives:[{name:"model",rawName:"v-model",value:t.school,expression:"school"}],attrs:{type:"text",placeholder:"请输入学校的名称",onfocus:"placeholder=''",onblur:"placeholder='请输入学校的名称'"},domProps:{value:t.school},on:{input:function(a){a.target.composing||(t.school=a.target.value)}}})]),e("div",{staticClass:"year",style:{marginBottom:t.tuance&&"25px"}},[t.tuance?e("div",{staticClass:"zheceng"}):t._e(),e("p",{staticClass:"no1",staticStyle:{width:"80px"}},[t._v("高考年份：")]),e("el-select",{staticClass:"year1",attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.year,callback:function(a){t.year=a},expression:"year"}},[t._l(6,function(a){return e("el-option",{key:t.index,attrs:{label:t.years+a-1,value:t.years+a-1}})}),e("el-option",{attrs:{label:"成年人",value:"成年人"}})],2),t._v("\n                     "),e("span",[t._v(t._s(t.nianji[t.year-t.years]))])],1),t.tuance?e("div",{staticClass:"ownname",style:{marginBottom:t.tuance&&"25px"}},[t._m(3),e("el-select",{staticClass:"classNumber",attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.classNumber,callback:function(a){t.classNumber=a},expression:"classNumber"}},t._l(t.end-t.start+1,function(a){return e("el-option",{key:t.index,attrs:{label:t.start+a-1,value:t.start+a-1}})}),1)],1):t._e(),e("div",{staticClass:"ownname",style:{marginBottom:t.tuance&&"25px"}},[t._m(4),e("input",{directives:[{name:"model",rawName:"v-model",value:t.ownname,expression:"ownname"}],attrs:{type:"text",placeholder:"请输入你的姓名",onfocus:"placeholder=''",onblur:"placeholder='请输入你的姓名'"},domProps:{value:t.ownname},on:{input:function(a){a.target.composing||(t.ownname=a.target.value)}}})]),t.tuance?e("div",{staticClass:"ownname",style:{marginBottom:t.tuance&&"25px"}},[t._m(5),e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"number",placeholder:"请输入你的手机号",onfocus:"placeholder=''",onblur:"placeholder='请输入你的手机号'"},domProps:{value:t.phone},on:{input:function(a){a.target.composing||(t.phone=a.target.value)}}})]):t._e(),e("div",{staticClass:"sex"},[t._m(6),e("div",{staticClass:"el"},[e("el-radio-group",{model:{value:t.sex,callback:function(a){t.sex=a},expression:"sex"}},[e("el-radio",{attrs:{label:1}},[t._v("男")]),e("el-radio",{staticClass:"women",attrs:{label:2}},[t._v("女")])],1)],1)]),e("p",{staticClass:"warning"},[t._v(t._s(t.warning))]),e("div",{staticClass:"goHome",on:{click:t.goHome}},[t._v("确定")]),e("p",{staticClass:"bottom"},[t._v("注以上信息一旦提交不能修改")])])])])])},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",{staticClass:"no1",staticStyle:{width:"80px"}},[t._v("地"),e("span",{staticStyle:{opacity:"0"}},[t._v("空空")]),t._v("区：")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",{staticClass:"no1",staticStyle:{width:"80px"}},[t._v("地"),e("span",{staticStyle:{opacity:"0"}},[t._v("空空")]),t._v("区：")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",{staticClass:"no1",staticStyle:{width:"80px"}},[t._v("学"),e("span",{staticStyle:{opacity:"0"}},[t._v("空空")]),t._v("校：")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",{staticClass:"no1",staticStyle:{width:"80px"}},[t._v("班"),e("span",{staticStyle:{opacity:"0"}},[t._v("空空")]),t._v("级：")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",{staticClass:"no1",staticStyle:{width:"80px"}},[t._v("姓"),e("span",{staticStyle:{opacity:"0"}},[t._v("空空")]),t._v("名：")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",{staticClass:"no1",staticStyle:{width:"80px"}},[t._v("手"),e("span",{staticStyle:{opacity:"0"}},[t._v("空空")]),t._v("机：")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",{staticClass:"no1",staticStyle:{width:"80px"}},[t._v("性"),e("span",{staticStyle:{opacity:"0"}},[t._v("空空")]),t._v("别：")])}],i=e("7618"),o=(e("7f7f"),e("ac6a"),{data:function(){return{mapData:[],cityData:[],areaData:[],province:"",city:"",area:"",school:"",year:"",ownname:"",sex:"",warning:"",classNumber:"",phone:"",agentId:-1,province0:"",city0:"",area0:"",school0:"",year0:"",openProvinceData:[],openCityData:[],isShowScoll:!1,tuance:!1,start:"",end:"",years:"",nianji:["高三","高二","高一","初三","初二","初一"]}},watch:{province:function(){var t=this.province,a=this;this.warning="",this.province0?this.province=this.province0:this.city="",0==this.openProvinceData.length?this.mapData.forEach(function(e,s){e.name==t&&(a.cityData=e.cityList)}):this.openProvinceData.forEach(function(e,s){e.name==t&&(a.openCityData=e.child)})},city:function(){var t=this.province,a=this.city,e=this,s=[];this.warning="",this.city0?this.city=this.city0:this.area="",0==this.openProvinceData.length?this.cityData.forEach(function(t,s){t.name!=a||(e.areaData=t.areaList)}):(this.mapData.forEach(function(a,e){a.name!=t||(s=a.cityList)}),s.forEach(function(t,s){t.name!=a||(e.areaData=t.areaList)}))},area:function(){this.warning="",this.area0&&(this.area=this.area0)},school:function(){this.warning="",this.school0&&(this.school=this.school0)},year:function(){this.year0&&(this.year=this.year0)},ownname:function(){this.warning=""}},methods:{getCityData:function(){var t=this;this.$ajax.get("/data/map.json").then(function(a){200==a.status&&(t.mapData=a.data)}).then(function(a){t.getUserInfo()}).catch(function(t){console.log(Object(i["a"])(+t))})},goHome:function(){if(this.warning="",this.province)if(this.city)if(this.area)if(this.school)if(!this.tuance||this.classNumber)if(this.ownname){if(this.tuance){if(!this.phone)return void(this.warning="请填写手机号");var t=/(^1[123456789]\d{9}$)|(^\d{8}$)/;if(!t.test(this.phone))return void(this.warning="请输入正确的手机号")}if(this.sex){var a=this.province,e=this.city,s=this.area,n=this.school,i=this.year,o=this.ownname,c=this.sex,l=window.sessionStorage.getItem("ymtxToken"),r=this,h=this.classNumber,u=this.phone;this.$ajax.post(this.G_uri+"/register/improveInfo",{province:a,city:e,area:s,schoolName:n,baccllYear:i,name:o,sex:c,token:l,schoolClass:h,phone:u},{headers:{token:l}}).then(function(t){2e3==t.data.code&&(window.sessionStorage.setItem("ymtxUserMessageSuccess",1),window.sessionStorage.setItem("ymtxUserMessage",!0),window.sessionStorage.setItem("name",o),r.tuance?r.$router.push("/thome"):window.location.href="/")}).catch(function(t){console.log(t)})}else this.warning="请选择性别"}else this.warning="请填写姓名";else this.warning="请填写班级";else this.warning="请填写学校名称";else this.warning="请选择区/县/市";else this.warning="请选择城市";else this.warning="请选择省份"},getProvance:function(){var t=this,a=this.$OEMdomain;this.$ajax.post(this.G_uri+"/agent/detail",{webSite:a}).then(function(a){2e3==a.data.code?(t.agentId=a.data.data.agentId,t.openProvinceData=a.data.data.openProvince):1016==a.data.code&&t.$router.push("/login")}).catch(function(t){console.log(t)})},getUserInfo:function(){var t=this,a=window.sessionStorage.getItem("ymtxToken");this.$ajax.post(this.G_uri+"/login/getUserInfo",{},{headers:{token:a}}).then(function(a){2e3==a.data.code&&(a.data.data.province&&(t.province=a.data.data.province,t.province0=a.data.data.province,a.data.data.city&&(t.city=a.data.data.city,t.city0=a.data.data.city,a.data.data.area&&(t.area=a.data.data.area,t.area0=a.data.data.area))),a.data.data.baccll_year&&(t.year=a.data.data.baccll_year,t.year0=a.data.data.baccll_year),a.data.data.school_name&&(t.school0=a.data.data.school_name,t.school=a.data.data.school_name),t.start=a.data.data.school_class_start,t.end=a.data.data.school_class_end)}).catch(function(t){console.log(t)})},getYear:function(){var t=new Date,a=t.getFullYear(),e=t.getMonth()+1;t.getDate();e>=9&&(a+=1),this.years=a,this.year=a}},mounted:function(){"3"==window.sessionStorage.tuance&&(this.tuance=!0)},created:function(){this.getYear(),this.getCityData(),this.getProvance()}}),c=o,l=(e("df2d"),e("cc56"),e("a3ae"),e("2877")),r=Object(l["a"])(c,s,n,!1,null,"f165380c",null);a["default"]=r.exports},"2ed3":function(t,a,e){},5130:function(t,a,e){},"684a":function(t,a,e){},a3ae:function(t,a,e){"use strict";var s=e("684a"),n=e.n(s);n.a},cc56:function(t,a,e){"use strict";var s=e("5130"),n=e.n(s);n.a},df2d:function(t,a,e){"use strict";var s=e("2ed3"),n=e.n(s);n.a}}]);
//# sourceMappingURL=chunk-2c5001f3.88432ad8.js.map